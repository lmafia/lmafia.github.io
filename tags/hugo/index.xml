<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Hugo on KyleGeeks</title>
    <link>https://blog.kylegeeks.com/tags/hugo/</link>
    <description>Recent content in Hugo on KyleGeeks</description>
    <image>
      <url>https://blog.kylegeeks.com/images/kyle-avatar.jpg</url>
      <link>https://blog.kylegeeks.com/images/kyle-avatar.jpg</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Tue, 16 Dec 2025 09:50:00 +0800</lastBuildDate><atom:link href="https://blog.kylegeeks.com/tags/hugo/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Hugo æ·»åŠ  Giscus ä½œä¸ºè¯„è®ºç³»ç»Ÿ</title>
      <link>https://blog.kylegeeks.com/posts/hugo-add-giscus-as-comment-system/</link>
      <pubDate>Tue, 16 Dec 2025 09:50:00 +0800</pubDate>
      
      <guid>https://blog.kylegeeks.com/posts/hugo-add-giscus-as-comment-system/</guid>
      <description></description>
      <content:encoded><![CDATA[<p>ä¸€ç›´åœ¨çœ‹åˆ«äººçš„åšå®¢ï¼Œå‘ç°åˆ«äººçš„åšå®¢éƒ½æœ‰è¯„è®ºç³»ç»Ÿï¼Œæˆ‘ä¹Ÿæƒ³é›†æˆä¸€ä¸ªè¿›æˆ‘çš„åšå®¢é‡Œã€‚</p>
<p>å¯ä»¥åœ¨ Hugo çš„å®˜æ–¹ç¿»åˆ° <code>Content Management</code> é‡Œ <a href="https://gohugo.io/content-management/comments/">Commnet</a>
çš„å†…å®¹ï¼Œè™½ç„¶å†…å®¹è‰è‰å†™äº†ä¸‹é…ç½® <code>Disqus</code>, ä½†åœ¨æœ€åé¢æä¾›ä¸€äº›å¼€æºè¯„è®ºç³»ç»Ÿçš„é€‰æ‹©ã€‚</p>
<blockquote>
<p>Open-source commenting systems:</p>
<ul>
<li>Cactus Comments</li>
<li>Comentario</li>
<li>Comma</li>
<li>Commento</li>
<li>Discourse</li>
<li>Giscus</li>
<li>Isso</li>
<li>Remark42</li>
<li>Staticman</li>
<li>Talkyard</li>
<li>Utterances</li>
</ul>
</blockquote>
<p>æœ¬ç€èƒ½å…è´¹ä½¿ç”¨å°±å…è´¹çš„åŸåˆ™ï¼Œé€‰æ‹©ä¾æ‰˜äº GitHub çš„ feature æ­å»ºçš„æ–¹æ³•ï¼Œè¿™æ ·å°±ä¸éœ€è¦è‡ªå»ºæ•°æ®åº“äº†ã€‚</p>
<p>è¿™æ ·å°±åªå‰©ä¸‹ <a href="https://giscus.app/">Giscus</a> å’Œ <a href="https://utteranc.es/">Utterances</a> äº†</p>
<p>Giscus æ˜¯åŸºäº GitHub Discussions å®ç°çš„è¯„è®ºç³»ç»Ÿï¼Œè€Œ Utterances æ˜¯åŸºäº GitHub Issues å®ç°çš„è¯„è®ºç³»ç»Ÿã€‚</p>
<p>Giscus æ˜¯å— Utterances å¯å‘çš„é¡¹ç›®ï¼Œè‡³å°‘åœ¨ README é‡Œæ˜¯è¿™ä¹ˆå†™çš„ï¼Œä¼šæ¯” Utterances æ›´æ–°ä¸€ç‚¹ã€‚æˆ‘å¯¹æ¯”äº†ä¸‹ UIï¼Œä¸ªäººæ›´å–œæ¬¢ Giscus çš„æ‰å¹³ä¸€ç‚¹çš„é£æ ¼ã€‚</p>
<p>æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ä¸ºåšå®¢å¼•å…¥ Giscus å§</p>
<h2 id="åˆ›å»º-gitub-ä»“åº“">åˆ›å»º Gitub ä»“åº“</h2>
<p>é¦–å…ˆéœ€è¦æ–°å»ºä¸€ä¸ª<a href="https://github.com/new">æ–°çš„å…¬å…±ä»“åº“</a>ï¼Œä»“åº“éœ€è¦æ˜¯å…¬å…±çš„ï¼Œä¸ç„¶è®¿å®¢å°†æ— æ³•æŸ¥çœ‹ Discussionï¼›
æˆ‘æ¨èä¸ä½¿ç”¨æ—§çš„ä»“åº“ï¼Œä¸»è¦æ˜¯ä¸æƒ³å’Œå…¶ä»–å·²æœ‰çš„é¡¹ç›®è€¦åˆï¼Œæˆ‘æ¨èè¿™æ ·çš„åšæ³•ã€‚</p>
<p>ä»“åº“é»˜è®¤æ˜¯ä¸æ‰“å¼€ <code>Discussions</code> åŠŸèƒ½çš„ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¼€å¯ã€‚</p>
<p>èœå•è·¯å¾„: <code>Settings -&gt; General -&gt; Features -&gt; Discussions</code></p>
<p>
  <img loading="lazy" src="https://image-s3.kylegeeks.com/data/2025/12/6c1ed56a2cd967402f572b96c7831bca.png" alt="Enable Discussions"  /></p>
<h2 id="github-å®‰è£…-giscus">Github å®‰è£… Giscus</h2>
<p>Github å®‰è£… <a href="https://github.com/apps/giscus">Giscus App</a></p>
<p>ç‚¹å‡» <code>Configure</code> è¿›å…¥é…ç½®ï¼Œ <code>Giscus</code> çš„ä»“åº“è®¿é—®æƒé™åªè¦é€‰æ‹©æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–°ä»“åº“</p>
<p>
  <img loading="lazy" src="https://image-s3.kylegeeks.com/data/2025/12/3823c5f38423e88d350ea64c2233e901.png" alt="Giscus Configue"  /></p>
<h2 id="giscus-çš„é…ç½®">Giscus çš„é…ç½®</h2>
<p>è®¿é—® <a href="https://giscus.app/zh-CN">giscus.app</a></p>
<p>ä¸»è¦å¡«å†™ä»“åº“è·¯å¾„å’Œ Discussion åˆ†ç±»</p>
<p>ä»“åº“è·¯å¾„çš„æ ¼å¼ä¸º <code>{{ç”¨æˆ·å}}/{{ä»“åº“å}}</code>

  <img loading="lazy" src="https://image-s3.kylegeeks.com/data/2025/12/c4d76a2706d728f2c4a1c2a17f97fa31.png" alt="Giscus ä»“åº“è·¯å¾„"  /></p>
<p>Discussion åˆ†ç±»æ¨è Announcementsï¼Œä»¥ç¡®ä¿æ–° discussion åªèƒ½ç”±ä»“åº“ç»´æŠ¤è€…å’Œ giscus åˆ›å»ºã€‚

  <img loading="lazy" src="https://image-s3.kylegeeks.com/data/2025/12/b18fdc003118f12d034c52e95883748f.png" alt="Giscus Discussion åˆ†ç±»"  /></p>
<p>æ¥ä¸‹æ¥æŠŠè¦æŠŠ <code>å¯ç”¨ giscus</code> ä¸‹çš„ <code>script</code> ä»£ç å¤åˆ¶å‡ºï¼Œå¾…ä¼šéœ€è¦æ·»åŠ åˆ° <code>Hugo</code> é‡Œ</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span>
</span></span><span class="line"><span class="cl">  <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://giscus.app/client.js&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-repo</span><span class="o">=</span><span class="s">&#34;[åœ¨æ­¤è¾“å…¥ä»“åº“]&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-repo-id</span><span class="o">=</span><span class="s">&#34;[åœ¨æ­¤è¾“å…¥ä»“åº“ ID]&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-category</span><span class="o">=</span><span class="s">&#34;[åœ¨æ­¤è¾“å…¥åˆ†ç±»å]&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-category-id</span><span class="o">=</span><span class="s">&#34;[åœ¨æ­¤è¾“å…¥åˆ†ç±» ID]&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-mapping</span><span class="o">=</span><span class="s">&#34;pathname&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-strict</span><span class="o">=</span><span class="s">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-reactions-enabled</span><span class="o">=</span><span class="s">&#34;1&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-emit-metadata</span><span class="o">=</span><span class="s">&#34;0&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-input-position</span><span class="o">=</span><span class="s">&#34;bottom&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-theme</span><span class="o">=</span><span class="s">&#34;preferred_color_scheme&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">data-lang</span><span class="o">=</span><span class="s">&#34;zh-CN&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">async</span>
</span></span><span class="line"><span class="cl"><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="hugo-æ·»åŠ -giscus-è¯„è®ºç³»ç»Ÿ">Hugo æ·»åŠ  Giscus è¯„è®ºç³»ç»Ÿ</h2>
<p>æˆ‘å·æ‡’ä¸æƒ³ä¿®æ”¹ç°æœ‰ä¸»é¢˜çš„ä»£ç ï¼Œé€‰æ‹©è¦†ç›–ä¸»é¢˜çš„ <code>comments.html</code> æ–‡ä»¶
åœ¨ <code>layouts/partials/</code> ä¸‹æ–°å»º <code>comments.html</code> æ–‡ä»¶</p>
<p>æŠŠåˆšåˆšå¤åˆ¶å‡ºæ¥çš„ä»£ç ç²˜è´´åˆ° <code>comments.html</code> é‡Œ</p>
<p>å¯åŠ¨ Hugo <code>hugo server --disableFastRender</code>, æ‰“å¼€ä»»ä½•ä¸€ç¯‡æ–‡ç« é¡µé¢çœ‹çœ‹æ˜¯å¦åœ¨æœ€ä¸‹æ–¹å‡ºç°äº†è¯„è®ºç³»ç»Ÿ</p>
<p>æˆåŠŸä¹‹åï¼Œæ•ˆæœå¦‚ä¸‹

  <img loading="lazy" src="https://image-s3.kylegeeks.com/data/2025/12/8450d5bc58ded442cffb5b640d248129.png" alt="æ·»åŠ  Giscus æ•ˆæœ"  /></p>
<p>è¿™é‡Œæœ‰ä¸€ç‚¹ä¸è¶³çš„åœ°æ–¹å°±æ˜¯é€‰æ‹©åˆ‡æ¢æš—è‰²ä¸»é¢˜åï¼ŒGiscus ä¸ä¼šè‡ªåŠ¨é€‚é…ï¼Œè¿™éœ€è¦æˆ‘ä»¬è‡ªå·±å†™ä»£ç é€‚é…äº†</p>
<p>ä¸»è¦é€»è¾‘æ˜¯åœ¨åˆ‡æ¢ä¸»é¢˜çš„æ—¶å€™æŠŠ <code>script</code> çš„ <code>data-theme</code> attribute ä¿®æ”¹ä¸ºæš—è‰²æˆ–äº®è‰²ä¸»é¢˜</p>
<h2 id="æ”¯æŒåˆ‡æ¢äº®è‰²æš—è‰²ä¸»é¢˜">æ”¯æŒåˆ‡æ¢äº®è‰²æš—è‰²ä¸»é¢˜</h2>
<p>æˆ‘ç”¨çš„æ˜¯ <a href="https://github.com/reorx/hugo-PaperModX/">hugo-PaperModX</a> ä¸»é¢˜ï¼Œ<code>reorx</code> å·²ç»é€‚é…äº†å‡ æ¬¾è¯„è®ºç³»ç»Ÿäº†ï¼Œä¹Ÿæ”¯æŒä¸»é¢˜è‰²åˆ‡æ¢ï¼Œæˆ‘å°±å‚è€ƒäº†ä»–çš„ä»£ç é€‚é…äº†ä¸‹ Giscus</p>
<p>æŠŠä¸Šé¢çš„ comment.html ä¿®æ”¹ä¸º</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;comments-box giscus-widget&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;giscus-widget-container&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="kd">var</span> <span class="nx">giscus_config</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-repo&#34;</span><span class="o">:</span> <span class="s2">&#34;[åœ¨æ­¤è¾“å…¥]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-repo-id&#34;</span><span class="o">:</span> <span class="s2">&#34;[åœ¨æ­¤è¾“å…¥]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-category&#34;</span><span class="o">:</span> <span class="s2">&#34;Announcements&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-category-id&#34;</span><span class="o">:</span> <span class="s2">&#34;[åœ¨æ­¤è¾“å…¥]&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-mapping&#34;</span><span class="o">:</span> <span class="s2">&#34;pathname&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-strict&#34;</span><span class="o">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-reactions-enabled&#34;</span><span class="o">:</span> <span class="s2">&#34;1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-emit-metadata&#34;</span><span class="o">:</span> <span class="s2">&#34;0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-input-position&#34;</span><span class="o">:</span> <span class="s2">&#34;bottom&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-lang&#34;</span><span class="o">:</span> <span class="s2">&#34;en&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;data-theme&#34;</span><span class="o">:</span> <span class="s2">&#34;noborder_light&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="s2">&#34;giscus-widget&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">toggleThemeCallbacks</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">toggleThemeCallbacks</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">isDark</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">loadgiscus</span><span class="p">(</span><span class="o">!</span><span class="nx">isDark</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">function</span> <span class="nx">loadgiscus</span><span class="p">(</span><span class="nx">isDark</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&#34;#giscus-widget-container&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">container</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nx">container</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="kr">const</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;script&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">s</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">&#34;https://giscus.app/client.js&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">giscus_config</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">giscus_config</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nx">s</span><span class="p">.</span><span class="kr">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="p">(</span><span class="nx">isDark</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;data-theme&#34;</span><span class="p">,</span> <span class="s2">&#34;noborder_gray&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;data-theme&#34;</span><span class="p">,</span> <span class="s2">&#34;noborder_light&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="nx">s</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;data-no-instant&#34;</span><span class="p">,</span> <span class="s2">&#34;&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">loadgiscus</span><span class="p">(</span><span class="nx">isDarkTheme</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">  <span class="p">})();</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>ç‚¹å‡»ä¸»é¢˜åˆ‡æ¢å, æ”¯æŒåçš„æš—è‰²ä¸»é¢˜æ•ˆæœ</p>
<p>
  <img loading="lazy" src="https://image-s3.kylegeeks.com/data/2025/12/39cf03a813a537c74c9605f21afcf025.png" alt="é€‚é…æš—è‰²ä¸»é¢˜"  /></p>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä¸ºæˆ‘çš„åšå®¢æ·»åŠ  Giscus ä½œä¸ºè¯„è®ºç³»ç»Ÿçš„ä¸»è¦å†…å®¹å•¦ï¼Œé—²æš‡æ—¶é—´æŠ˜è…¾ä¸‹åšå®¢è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ã€‚</p>
<p>ç°åœ¨å·²ç»æ˜¯ 2025 å¹´ 12 æœˆ äº†ï¼Œå¸Œæœ› 2026 å¹´çš„è‡ªå·±èƒ½å¤šè¾“å‡ºï¼Œå¤šåˆ†äº«æŠ€æœ¯å’Œç”Ÿæ´»å†…å®¹ï¼Œä¹Ÿå¸Œæœ›åœ¨äº’è”ç½‘ä¸Šæœ‰è¯»è€…æ¥æˆ‘çš„åšå®¢ç•™ä¸‹è‡ªå·±çš„è„šæ­¥ ğŸ‘£ã€‚</p>]]></content:encoded>
    </item>
    
  </channel>
</rss>
